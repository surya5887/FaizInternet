{% extends "admin_base.html" %}

{% block page_title %}Edit Service â€” {{ service.title }}{% endblock %}

{% block content %}
<div style="margin-bottom: 20px;">
    <a href="{{ url_for('manage_services') }}" class="btn btn-outline btn-sm">
        <i class="fas fa-arrow-left"></i> Back to Services
    </a>
</div>

<form method="POST" action="{{ url_for('edit_service', service_id=service.id) }}">
    <!-- Basic Info -->
    <div class="settings-section">
        <h3><i class="fas fa-info-circle"></i> Basic Information</h3>
        <div class="settings-grid">
            <div class="admin-form-group">
                <label>Service Title</label>
                <input type="text" name="title" class="admin-form-control" value="{{ service.title }}" required>
            </div>
            <div class="admin-form-group">
                <label>Icon Path</label>
                <input type="text" name="icon_path" class="admin-form-control" value="{{ service.icon_path }}" placeholder="img/service-icon.png">
            </div>
            <div class="admin-form-group settings-full">
                <label>Description</label>
                <textarea name="description" class="admin-form-control" rows="3" required>{{ service.description }}</textarea>
            </div>
        </div>
    </div>

    <!-- Service Requirements -->
    <div class="settings-section">
        <h3><i class="fas fa-file-invoice" style="color: var(--admin-accent);"></i> Document Requirements & Official Links</h3>
        <p style="font-size: 0.85rem; color: var(--admin-text-dim); margin-bottom: 25px; line-height: 1.6;">
            Define the list of documents shown to users. Use one line per document for best readability. These will be displayed as a list on the service details page.
        </p>
        
        <div class="settings-grid">
            <div class="admin-form-group settings-full" style="background: rgba(0,0,0,0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05);">
                <label style="color: var(--admin-accent); display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                    <i class="fas fa-plus-circle"></i> Requirements for **NEW APPLICATION**
                </label>
                <textarea name="docs_new" class="admin-form-control" rows="6" placeholder="Example:
- Aadhaar Card
- PAN Card
- Photo
- Birth Certificate">{{ service.docs_new or '' }}</textarea>
                <p style="font-size: 0.75rem; color: var(--admin-text-muted); margin-top: 8px;">List documents required for a fresh application.</p>
            </div>

            <div class="admin-form-group settings-full" style="background: rgba(0,0,0,0.1); padding: 20px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.05); margin-top: 15px;">
                <label style="color: var(--admin-accent2); display: flex; align-items: center; gap: 8px; margin-bottom: 12px;">
                    <i class="fas fa-edit"></i> Requirements for **UPDATE / CORRECTION**
                </label>
                <textarea name="docs_update" class="admin-form-control" rows="6" placeholder="Example:
- Old Document Copy
- Proof of Correction
- Valid ID Proof">{{ service.docs_update or '' }}</textarea>
                <p style="font-size: 0.75rem; color: var(--admin-text-muted); margin-top: 8px;">List documents required for changes or corrections.</p>
            </div>

            <div class="admin-form-group settings-full" style="margin-top: 20px;">
                <label style="display: flex; align-items: center; gap: 8px; margin-bottom: 10px;">
                    <i class="fas fa-external-link-alt"></i> Official Government Status Link
                </label>
                <input type="url" name="status_link" class="admin-form-control" value="{{ service.status_link or '' }}" placeholder="https://ssc.nic.in/Portal/CheckStatus">
                <p style="font-size: 0.75rem; color: var(--admin-text-muted); margin-top: 6px;">URL where users can directly check their application status (optional).</p>
            </div>
        </div>
    </div>

    <div style="display: flex; gap: 15px; justify-content: flex-end; margin-top: 30px;">
        <a href="{{ url_for('manage_services') }}" class="btn btn-outline">Cancel</a>
        <button type="submit" class="btn btn-primary">
            <i class="fas fa-save"></i> Save Changes
        </button>
    </div>
</form>
{% endblock %}

{% block scripts %}
<!-- Legacy script logic removed as simple text inputs are now used -->
{% endblock %}
